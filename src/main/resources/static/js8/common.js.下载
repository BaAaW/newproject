var base=base||{};(function(){this.queueList=[],this.getenvironment="prod",this.getenvironmentfun=function(){window.location.href.indexOf("vipsit.cpic.com.cn")>=0||window.location.href.indexOf("file:")>=0||window.location.href.indexOf("localhost")>=0?base.getenvironment="sit":base.getenvironment="prod"}(),this.host=window.location.origin||window.location.protocol+"//"+window.location.host,this.gethost=function(){(""==window.location.host||"localhost:8080"==window.location.host)&&(base.host=window.location.href.split("/pc")[0])}(),this.dynamicLoadCss=function(a){var b=document.getElementsByTagName("head")[0],c=document.createElement("link");c.type="text/css",c.rel="stylesheet",c.href=a,b.appendChild(c)},this.loadJS=function(a,b){var c=document.createElement("script");c.setAttribute("type","text/javascript"),c.setAttribute("src",a),"undefined"!=typeof c&&(c.setAttribute("charset","UTF-8"),c.onload=c.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||"function"==typeof b&&b("success")},c.onerror=function(){"function"==typeof b&&b("error")},document.getElementsByTagName("head")[0].appendChild(c))},this.geturlData=function(a,b){var c="";b||(b=window.location.href);for(var d=b.split("?")[1]?b.split("?")[1].split("&"):[],e=0;e<d.length;e++)d[e].split("=")[0]==a&&(c=d[e].split("=")[1]);return c},this.showmessage=function(a){$("body").css({overflow:"hidden"});var a=a||{},b=document.createElement("div");b.innerHTML=a.confirm,b.className="confirmbtn";var c=document.createElement("div");c.className="showmessage";var d=document.createElement("div");d.className="showmessageBox";var e=document.createElement("div");e.className="showmessagecont",e.innerHTML=a.content;var f=document.createElement("div");f.className="showmessagebtn";var g=document.createElement("div");g.className="cancelbtn",g.innerHTML="取消",a.showcancel?f.appendChild(g):"",f.appendChild(b),d.appendChild(e),d.appendChild(f),c.appendChild(d),g.onclick=function(){$(c).remove(),$("body").css({overflow:"auto"})},b.onclick=function(){a.callback&&a.callback(),$(c).remove(),$("body").css({overflow:"auto"})},$("body").append(c)},this.hideloding=function(){$(".gtco-loader").fadeOut("slow")},this.gotoUrl=function(a,b,c){var d="";if(c){d+="?";for(var e in c)d=d+e+"="+c[e]+"&";d=d.replace(/\&$/,"")}var f=arguments.callee.caller.arguments[0]||event;$(f.currentTarget).attr({href:webURLs[a][base.getenvironment]+d}),b||$(event.currentTarget).attr({target:"_blank"})},this.location=function(a,b){var c="";if(b){c+="?";for(var d in b)c=c+d+"="+b[d]+"&";c=c.replace(/\&$/,"")}window.location.href=webURLs[a][base.getenvironment]+c},this.setSessionStorage=function(a,b,c){window.sessionStorage&&(c&&(b=JSON.stringify(b)),window.sessionStorage[a]=b)},this.getSessionStorage=function(a,b){if(window.sessionStorage){var c=window.sessionStorage[a]||"";return b&&c&&(c=JSON.parse(c)),c}},this.removeSessionStorage=function(a){window.sessionStorage&&window.sessionStorage.removeItem(a)},this.formatDate=function(a,b){var c=new Date(a),d=1900+c.getYear(),e="0"+(c.getMonth()+1),f="0"+c.getDate(),g="0"+c.getHours(),h="0"+c.getMinutes(),i="0"+c.getSeconds();return 2==b?d+"年"+e.substring(e.length-2,e.length)+"月"+f.substring(f.length-2,f.length)+"日":3==b?d+"."+e.substring(e.length-2,e.length)+"."+f.substring(f.length-2,f.length)+" "+g.substring(g.length-2,g.length)+":"+h.substring(h.length-2,h.length)+":"+i.substring(i.length-2,i.length):d+"."+e.substring(e.length-2,e.length)+"."+f.substring(f.length-2,f.length)},this.getCookie=function(a){var b,c=new RegExp("(^| )"+a+"=([^;]*)(;|$)");return b=document.cookie.match(c),b?unescape(b[2]):null},this.setCookie=function(a){a=a||{};var b="";a.expTime&&(a.expTime=60*a.expTime*1e3,exp.setTime(exp.getTime()+a.expTime),b=";expires="+exp.toGMTString()),a.domain||(a.domain=document.domain),document.cookie=a.name+"="+a.value+"; path=/; domain="+a.domain+";"+b},this.removeCookie=function(a){var b={domain:"",name:"",path:"/"};"object"==typeof a?this.extend(b,a):"string"==typeof a&&(b.name=a),b.domain||(b.domain=document.domain);var c=new Date("2000","1","1"),d=this.getCookie(b.name);null!=d&&(document.cookie=b.name+"="+d+";domain="+b.domain+";path="+b.path+";expires="+c.toGMTString())},this.omniture=function(a){window.cpic_webTrack_digitalData=a},this.sa=function(a){base.loadJS("https://a2cdn3.8686c.com/sensorsdata/cpic.sd.js",function(){var b={};/pc\/$|pc\/\?|pc\/index.html$|pc\/index.html\?/.test(window.location.href)?(b.showHeatmap=!0,b.show_log=!1,setsensorsdata(b),sa.registerPage({pageName:"官网:客户俱乐部:首页"})):setsensorsdata(b),base.setSaMobile(function(){sa.registerPage({pageChannel:"客户俱乐部"}),sa.track("page",a)})})},this.queue=function(a){if(0!=base.queueList.length)for(var b=0;b<base.queueList.length;b++)base.queueList[b].f(base.queueList[b].data);"error"!=a&&_satellite.pageBottom()},base.loadJS("https://vip.cpiccdn.com/pc/base/js/layer.js",function(){base.open=function(a){layer.open({title:a.title||"温馨提示",content:a.content||""})},base.confirm=function(a){layer.confirm(a.content,{btn:["确认","取消"],shadeClose:!0},function(b,c){a.success&&a.success(b,c),layer.close(b)},function(b,c){a.cancel&&a.cancel(b,c)})}}),base.dynamicLoadCss("https://vip.cpiccdn.com/pc/base/js/skin/default/layer.css"),this.showloading=function(){var a='<div class="vue-loading-indicator">        <div class="vue-loading-indicator-wrapper">          <span class="vue-loading-indicator-spin">            <div class="vue-loading-spinner-snake normal"></div>          </span>          </div>          <div class="vue-loading-indicator-mask">        </div>      </div>';$("body").append(a)},this.removeloding=function(){$(".vue-loading-indicator").remove()},this.setSaMobile=function(a){var b={sit:"https://onesit.cpic.com.cn/Proxy/oauth2/checkLogin?X-CAF-Authorization-Token=0275c9d1ecbe52fe8f902d493284b7cf",prod:"https://one.cpic.com.cn/Proxy/oauth2/checkLogin?X-CAF-Authorization-Token=0275c9d1ecbe52fe8f902d493284b7cf"};base.ajax({url:b[base.getenvironment],dataType:"jsonp",jsonp:"callbackparam",success:function(b){var c=b.logined;c?sa.registerPage({login_status:"登录",Mobile:b.mobile+""}):sa.registerPage({Mobile:"",login_status:"游客"}),a&&a()}})};var a=0,b=0;this.ajax=function(c){var d={url:"",type:"",data:{},dataType:"json",timeout:3e4,error:function(a,b,c){},success:function(a,b,c){},beforeSend:function(){a++,base.showloading()},complete:function(){b++,a==b&&(a=0,b=0,base.removeloding())}};$.extend(d,c),$.ajax(d)}}).call(base);